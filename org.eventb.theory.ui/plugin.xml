<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.newWizards">
      <wizard
            category="org.eventb.ui.wizards"
            class="org.eventb.theory.ui.wizard.NewTheoryWizard"
            finalPerspective="org.eventb.ui.perspective.eventb"
            icon="icons/thy.gif"
            id="org.eventb.theory.ui.newTheoryWizard"
            name="%newTheoryWizard"
            preferredPerspectives="org.eventb.ui.perspective.eventb,org.eventb.ui.perspective.proving"
            project="false">
         <description>
            %newTheoryWizardDescription
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="org.eventb.theory.ui.editor.TheoryEditor"
            contributorClass="org.eventb.theory.ui.editor.TheoryEditorContributor"
            default="true"
            extensions="tuf"
            icon="icons/thy.gif"
            id="org.eventb.theory.ui.theoryEditor"
            name="%theoryEditor">
         <contentTypeBinding
               contentTypeId="org.eventb.theory.core.theoryFile">
         </contentTypeBinding>
      </editor>
   </extension>
   <extension
         point="org.eventb.ui.editorItems">
      <toggleAttribute
            class="org.eventb.theory.internal.ui.attr.CompleteAttributeManipulation"
            id="org.eventb.theory.ui.complete"
            typeId="org.eventb.theory.core.complete">
      </toggleAttribute>
      <textAttribute
            class="org.eventb.theory.internal.ui.attr.TypingAttributeManipulation"
            expandsHorizontally="false"
            foregroundColor="P_REQUIRED_FIELD_BACKGROUND"
            id="org.eventb.theory.ui.type"
            isMath="true"
            prefix="Type: "
            style="single"
            typeId="org.eventb.theory.core.type">
      </textAttribute>
      <textAttribute
            class="org.eventb.theory.internal.ui.attr.DescAttributeManipulation"
            expandsHorizontally="false"
            foregroundColor="P_COMMENT_FOREGROUND"
            id="org.eventb.theory.ui.desc"
            isMath="false"
            prefix="Description: "
            style="single"
            typeId="org.eventb.theory.core.desc">
      </textAttribute>
      <textAttribute
            class="org.eventb.theory.internal.ui.attr.FormulaAttributeManipulation"
            expandsHorizontally="true"
            foregroundColor="P_REQUIRED_FIELD_BACKGROUND"
            id="org.eventb.theory.ui.formula"
            isMath="true"
            prefix="Formula: "
            style="multi"
            typeId="org.eventb.theory.core.formula">
      </textAttribute>
      <toggleAttribute
            class="org.eventb.theory.internal.ui.attr.FormulaTypeAttributeManipulation"
            id="org.eventb.theory.ui.formulaType"
            typeId="org.eventb.theory.core.formulaType">
      </toggleAttribute>
      <choiceAttribute
            class="org.eventb.theory.internal.ui.attr.NotationAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.notationType"
            required="true"
            typeId="org.eventb.theory.core.notationType">
      </choiceAttribute>
      <choiceAttribute
            class="org.eventb.theory.internal.ui.attr.ImportProjectTheoryAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.importTheoryProject"
            typeId="org.eventb.theory.core.importTheoryProject">
      </choiceAttribute>
      <choiceAttribute
            class="org.eventb.theory.internal.ui.attr.ImportTheoryAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.importTheory"
            typeId="org.eventb.theory.core.importTheory">
      </choiceAttribute>
      <choiceAttribute
            class="org.eventb.theory.internal.ui.attr.AssociativeAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.associative"
            prefix="Associativity: "
            required="true"
            typeId="org.eventb.theory.core.associative">
      </choiceAttribute>
      <choiceAttribute
            class="org.eventb.theory.internal.ui.attr.CommutativeAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.commutative"
            prefix="Commutativity: "
            required="true"
            typeId="org.eventb.theory.core.commutative">
      </choiceAttribute>
      <choiceAttribute
            class="org.eventb.theory.internal.ui.attr.GivenTypeAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.givenType"
            required="true"
            typeId="org.eventb.theory.core.givenType">
      </choiceAttribute>
      <choiceAttribute
            class="org.eventb.theory.internal.ui.attr.ApplicabilityAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.applicability"
            prefix="Applicability: "
            required="true"
            typeId="org.eventb.theory.core.applicability">
      </choiceAttribute>
      <choiceAttribute
            class="org.eventb.theory.internal.ui.attr.InductiveArgumentAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.inductiveArgument"
            prefix="case"
            required="true"
            typeId="org.eventb.theory.core.inductiveArgument">
      </choiceAttribute>
      <toggleAttribute
            class="org.eventb.theory.internal.ui.attr.HypAttributeManipulation"
            id="org.eventb.theory.ui.hyp"
            typeId="org.eventb.theory.core.hyp">
      </toggleAttribute>
      <element
            childrenSuffix="END"
            imagePath="icons/thy.gif"
            prefix="THEORY"
            prettyPrinter="org.eventb.theory.ui.editor.html.ComponentPrettyPrinter"
            typeId="org.eventb.theory.core.theoryRoot">
      </element>
      <element
            imagePath="icons/block.gif"
            prefix="IMPORTS THEORY PROJECTS"
            prettyPrinter="org.eventb.theory.ui.editor.html.ImportProjectPrettyPrinter"
            typeId="org.eventb.theory.core.importTheoryProject">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/thyDep.gif"
            prefix="THEORIES"
            prettyPrinter="org.eventb.theory.ui.editor.html.ImportTheoryPrettyPrinter"
            typeId="org.eventb.theory.core.importTheory">
      </element>
      <element
            defaultColumn="0"
            imagePath="icons/typePar.gif"
            prefix="TYPE PARAMETERS"
            prettyPrinter="org.eventb.theory.ui.editor.html.TypeParameterPrettyPrinter"
            typeId="org.eventb.theory.core.typeParameter">
      </element>
      <element
            defaultColumn="0"
            imagePath="icons/datatype.gif"
            prefix="DATATYPES"
            prettyPrinter="org.eventb.theory.ui.editor.html.DatatypeDefinitionPrettyPrinter"
            typeId="org.eventb.theory.core.datatypeDefinition">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/typePar.gif"
            prefix="Type Arguments"
            typeId="org.eventb.theory.core.typeArgument">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/cons.gif"
            prefix="Constructors"
            prettyPrinter="org.eventb.theory.ui.editor.html.DatatypeConstructorPrettyPrinter"
            typeId="org.eventb.theory.core.datatypeConstructor">
      </element>
      <element
            defaultColumn="2"
            imagePath="icons/dest.gif"
            prefix="Destructors"
            typeId="org.eventb.theory.core.constructorArgument">
      </element>
      <element
            defaultColumn="0"
            imagePath="icons/op.gif"
            prefix="OPERATORS"
            prettyPrinter="org.eventb.theory.ui.editor.html.NewOperatorDefinitionPrettyPrinter"
            typeId="org.eventb.theory.core.newOperatorDefinition">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/metaVar.gif"
            prefix="arguments"
            typeId="org.eventb.theory.core.operatorArgument">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/opWd.gif"
            prefix="well-definedness condition"
            prettyPrinter="org.eventb.theory.ui.editor.html.OperatorWDconditionPrettyPrinter"
            typeId="org.eventb.theory.core.operatorWDcondition">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/directDef.gif"
            prefix="direct definition"
            prettyPrinter="org.eventb.theory.ui.editor.html.OperatorDefinitionPrettyPrinter"
            typeId="org.eventb.theory.core.directOperatorDefinition">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/recDef.gif"
            prefix="recursive definition"
            prettyPrinter="org.eventb.theory.ui.editor.html.OperatorRecursiveDefinitionPrettyPrinter"
            typeId="org.eventb.theory.core.recursiveOperatorDefinition">
      </element>
      <element
            defaultColumn="2"
            imagePath="icons/recCase.gif"
            prefix="cases"
            prettyPrinter="org.eventb.theory.ui.editor.html.OperatorRecursiveCasePrettyPrinter"
            typeId="org.eventb.theory.core.recursiveDefinitionCase">
      </element>
      <element
            defaultColumn="0"
            imagePath="icons/block.gif"
            prefix="PROOF RULES"
            prettyPrinter="org.eventb.theory.ui.editor.html.ProofRulesBlockPrettyPrinter"
            typeId="org.eventb.theory.core.proofRulesBlock">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/metaVar.gif"
            prefix="Metavariables"
            prettyPrinter="org.eventb.theory.ui.editor.html.MetavariablesPrettyPrinter"
            typeId="org.eventb.theory.core.metaVariable">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/rew.gif"
            prefix="Rewrite Rules"
            prettyPrinter="org.eventb.theory.ui.editor.html.RewriteRulePrettyPrinter"
            typeId="org.eventb.theory.core.rewriteRule">
      </element>
      <element
            defaultColumn="2"
            imagePath="icons/rhs.gif"
            prefix="rewrites"
            prettyPrinter="org.eventb.theory.ui.editor.html.RewriteRuleRHSPrettyPrinter"
            typeId="org.eventb.theory.core.rewriteRuleRHS">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/inference.gif"
            prefix="Inference Rules"
            prettyPrinter="org.eventb.theory.ui.editor.html.InferenceRulePrettyPrinter"
            typeId="org.eventb.theory.core.inferenceRule">
      </element>
      <element
            defaultColumn="2"
            imagePath="icons/given.gif"
            prefix="Given"
            prettyPrinter="org.eventb.theory.ui.editor.html.GivenPrettyPrinter"
            typeId="org.eventb.theory.core.given">
      </element>
      <element
            defaultColumn="2"
            imagePath="icons/infer.gif"
            prefix="Infer"
            prettyPrinter="org.eventb.theory.ui.editor.html.InferPrettyPrinter"
            typeId="org.eventb.theory.core.infer">
      </element>
      <element
            defaultColumn="0"
            imagePath="icons/theorem.gif"
            prefix="THEOREMS"
            prettyPrinter="org.eventb.theory.ui.editor.html.TheoremPrettyPrinter"
            typeId="org.eventb.theory.core.theorem">
      </element>
      <element
            defaultColumn="0"
            imagePath="icons/block.gif"
            prefix="AXIOMATIC DEFINITIONS"
            prettyPrinter="org.eventb.theory.ui.editor.html.AxiomaticDefinitionPrettyPrinter"
            typeId="org.eventb.theory.core.axiomaticDefinitionsBlock">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/op.gif"
            prefix="OPERATORS"
            prettyPrinter="org.eventb.theory.ui.editor.html.AxiomaticOperatorDefinitionPrettyPrinter"
            typeId="org.eventb.theory.core.axiomaticOperatorDefinition">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/theorem.gif"
            prefix="AXIOMS"
            prettyPrinter="org.eventb.theory.ui.editor.html.AxiomaticDefinitionAxiomPrettyPrinter"
            typeId="org.eventb.theory.core.axiomaticDefinitionAxiom">
      </element>
      <element
            defaultColumn="1"
            imagePath="icons/datatype.gif"
            prefix="TYPES"
            prettyPrinter="org.eventb.theory.ui.editor.html.AxiomaticTypeDefinition"
            typeId="org.eventb.theory.core.axiomaticTypeDefinition">
      </element>
      <childRelation
            parentTypeId="org.eventb.theory.core.inferenceRule">
         <childType
               priority="10"
               typeId="org.eventb.theory.core.given">
         </childType>
         <childType
               priority="20"
               typeId="org.eventb.theory.core.infer">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.theoryRoot">
         <childType
               priority="5"
               typeId="org.eventb.theory.core.importTheoryProject">
         </childType>
         <childType
               priority="10"
               typeId="org.eventb.theory.core.typeParameter">
         </childType> 
         <childType
               priority="20"
               typeId="org.eventb.theory.core.datatypeDefinition">
         </childType>
         <childType
               priority="30"
               typeId="org.eventb.theory.core.newOperatorDefinition">
         </childType>
         <childType
               priority="32"
               typeId="org.eventb.theory.core.axiomaticDefinitionsBlock">
         </childType>
         <childType
               priority="35"
               typeId="org.eventb.theory.core.theorem">
         </childType>
         <childType
               priority="40"
               typeId="org.eventb.theory.core.proofRulesBlock">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.importTheoryProject">
         <childType
               priority="10"
               typeId="org.eventb.theory.core.importTheory">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.datatypeDefinition">
         <childType
               priority="10"
               typeId="org.eventb.theory.core.typeArgument">
         </childType>
         <childType
               priority="20"
               typeId="org.eventb.theory.core.datatypeConstructor">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.datatypeConstructor">
         <childType
               priority="10"
               typeId="org.eventb.theory.core.constructorArgument">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.newOperatorDefinition">
         <childType
               priority="10"
               typeId="org.eventb.theory.core.operatorArgument">
         </childType>
         <childType
               priority="20"
               typeId="org.eventb.theory.core.operatorWDcondition">
         </childType>
         <childType
               priority="30"
               typeId="org.eventb.theory.core.directOperatorDefinition">
         </childType>
         <childType
               priority="40"
               typeId="org.eventb.theory.core.recursiveOperatorDefinition">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.proofRulesBlock">
         <childType
               priority="10"
               typeId="org.eventb.theory.core.metaVariable">
         </childType>
         <childType
               priority="20"
               typeId="org.eventb.theory.core.rewriteRule">
         </childType>
         <childType
               priority="30"
               typeId="org.eventb.theory.core.inferenceRule">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.rewriteRule">
         <childType
               priority="10"
               typeId="org.eventb.theory.core.rewriteRuleRHS">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.recursiveOperatorDefinition">
         <childType
               priority="10"
               typeId="org.eventb.theory.core.recursiveDefinitionCase">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.axiomaticDefinitionsBlock">
         <childType
               priority="5"
               typeId="org.eventb.theory.core.axiomaticTypeDefinition">
         </childType>
         <childType
               priority="10"
               typeId="org.eventb.theory.core.axiomaticOperatorDefinition">
         </childType>
         <childType
               priority="20"
               typeId="org.eventb.theory.core.axiomaticDefinitionAxiom">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.axiomaticOperatorDefinition">
         <childType
               priority="10"
               typeId="org.eventb.theory.core.operatorArgument">
         </childType>
         <childType
               priority="20"
               typeId="org.eventb.theory.core.operatorWDcondition">
         </childType>
      </childRelation>
   </extension>
   <extension
         point="org.eventb.ui.editorItems">
      <attributeRelation
            elementTypeId="org.eventb.theory.core.theoryRoot">
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.importTheoryProject">
         <attributeReference
               descriptionId="org.eventb.theory.ui.importTheoryProject">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.importTheory">
         <attributeReference
               descriptionId="org.eventb.theory.ui.importTheory">
         </attributeReference>
      </attributeRelation>
      
      <attributeRelation
            elementTypeId="org.eventb.theory.core.typeParameter">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.identifier">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.datatypeDefinition">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.identifier">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.datatypeConstructor">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.identifier">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.constructorArgument">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.identifier">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.theory.ui.type">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.newOperatorDefinition">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.label">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.theory.ui.formulaType">
         </attributeReference>
         <attributeReference
               column="2"
               descriptionId="org.eventb.theory.ui.notationType">
         </attributeReference>
         <attributeReference
               column="3"
               descriptionId="org.eventb.theory.ui.associative">
         </attributeReference>
         <attributeReference
               column="4"
               descriptionId="org.eventb.theory.ui.commutative">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.operatorArgument">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.identifier">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.ui.expression">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.operatorWDcondition">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.predicate">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.directOperatorDefinition">
         <attributeReference
               column="0"
               descriptionId="org.eventb.theory.ui.formula">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.proofRulesBlock">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.label">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.metaVariable">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.identifier">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.theory.ui.type">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.rewriteRule">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.label">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.theory.ui.formula">
         </attributeReference>
         <attributeReference
               column="2"
               descriptionId="org.eventb.theory.ui.complete">
         </attributeReference>
         <attributeReference
               column="3"
               descriptionId="org.eventb.theory.ui.applicability">
         </attributeReference>
         <attributeReference
               column="4"
               descriptionId="org.eventb.theory.ui.desc">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.rewriteRuleRHS">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.label">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.ui.predicate">
         </attributeReference>
         <attributeReference
               column="2"
               descriptionId="org.eventb.theory.ui.formula">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.inferenceRule">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.label">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.theory.ui.applicability">
         </attributeReference>
         <attributeReference
               column="2"
               descriptionId="org.eventb.theory.ui.desc">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.given">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.predicate">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.theory.ui.hyp">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.infer">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.predicate">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.theorem">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.label">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.ui.predicate">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.typeArgument">
         <attributeReference
               descriptionId="org.eventb.theory.ui.givenType">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.recursiveOperatorDefinition">
         <attributeReference
               column="0"
               descriptionId="org.eventb.theory.ui.inductiveArgument">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.recursiveDefinitionCase">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.expression">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.theory.ui.formula">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.axiomaticDefinitionsBlock">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.label">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.axiomaticOperatorDefinition">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.label">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.theory.ui.formulaType">
         </attributeReference>
         <attributeReference
               column="2"
               descriptionId="org.eventb.theory.ui.notationType">
         </attributeReference>
         <attributeReference
               column="3"
               descriptionId="org.eventb.theory.ui.associative">
         </attributeReference>
         <attributeReference
               column="4"
               descriptionId="org.eventb.theory.ui.commutative">
         </attributeReference>
         <attributeReference
               column="5"
               descriptionId="org.eventb.theory.ui.type">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.axiomaticDefinitionAxiom">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.label">
         </attributeReference>
         <attributeReference
               column="1"
               descriptionId="org.eventb.ui.predicate">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.axiomaticTypeDefinition">
         <attributeReference
               column="0"
               descriptionId="org.eventb.ui.identifier">
         </attributeReference>
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
   </extension>
   <extension
         point="org.eventb.ui.editorItems">
      <autoNaming
            attributeDescriptionId="org.eventb.ui.identifier"
            elementTypeId="org.eventb.theory.core.typeParameter"
            namePrefix="set">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.identifier"
            elementTypeId="org.eventb.theory.core.datatypeDefinition"
            namePrefix="dt">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.identifier"
            elementTypeId="org.eventb.theory.core.datatypeConstructor"
            namePrefix="dtc">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.identifier"
            elementTypeId="org.eventb.theory.core.constructorArgument"
            namePrefix="dest">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.label"
            elementTypeId="org.eventb.theory.core.newOperatorDefinition"
            namePrefix="newOp">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.identifier"
            elementTypeId="org.eventb.theory.core.operatorArgument"
            namePrefix="opArg">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.label"
            elementTypeId="org.eventb.theory.core.proofRulesBlock"
            namePrefix="rulesBlock">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.label"
            elementTypeId="org.eventb.theory.core.rewriteRule"
            namePrefix="rew">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.label"
            elementTypeId="org.eventb.theory.core.rewriteRuleRHS"
            namePrefix="rhs">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.label"
            elementTypeId="org.eventb.theory.core.inferenceRule"
            namePrefix="inf">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.label"
            elementTypeId="org.eventb.theory.core.theorem"
            namePrefix="thm">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.identifier"
            elementTypeId="org.eventb.theory.core.metaVariable"
            namePrefix="var">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.label"
            elementTypeId="org.eventb.theory.core.axiomaticDefinitionsBlock"
            namePrefix="xdb">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.label"
            elementTypeId="org.eventb.theory.core.axiomaticOperatorDefinition"
            namePrefix="xOpDef">
      </autoNaming>
      <autoNaming
            attributeDescriptionId="org.eventb.ui.label"
            elementTypeId="org.eventb.theory.core.axiomaticDefinitionAxiom"
            namePrefix="axm">
      </autoNaming>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            contentProvider="org.eventb.theory.ui.explorer.TheoryContentProvider"
            id="org.eventb.theory.ui.explorer.theory"
            labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
            name="%navigatorContent.theory"
            priority="normal">
         <triggerPoints>
            <or>
               <instanceof
                     value="org.eclipse.core.resources.IProject">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.ITheoryRoot">
               </instanceof>
            </or>
         </triggerPoints>
         <possibleChildren>
            <instanceof
                  value="org.eventb.theory.core.ITheoryRoot">
            </instanceof>
         </possibleChildren>
         <commonSorter
               class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">
         </commonSorter>
      </navigatorContent>
      <navigatorContent
            contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$TypeParameterContentProvider"
            id="org.eventb.theory.ui.explorer.typeParameter"
            labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
            name="%navigatorContent.typeParameter"
            priority="highest">
         <triggerPoints>
            <or>
               <instanceof
                     value="org.eventb.theory.core.ITheoryRoot">
               </instanceof>
               <instanceof
                     value="fr.systerel.explorer.IElementNode">
               </instanceof></or>
         </triggerPoints>
         <possibleChildren>
            <or>
               <instanceof
                     value="org.eventb.theory.core.ITypeParameter">
               </instanceof>
               <instanceof
                     value="fr.systerel.explorer.IElementNode">
               </instanceof>
            </or>
         </possibleChildren>
         <commonSorter
				class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">         
		</commonSorter>
      </navigatorContent>
       <navigatorContent
            contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$DatatypeContentProvider"
            id="org.eventb.theory.ui.explorer.datatype"
            labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
            name="%navigatorContent.datatype"
            priority="higher">
         <triggerPoints>
            <or>
               <instanceof
                     value="org.eventb.theory.core.ITheoryRoot">
               </instanceof>
               <instanceof
                     value="fr.systerel.explorer.IElementNode">
               </instanceof></or>
         </triggerPoints>
         <possibleChildren>
            <or>
               <instanceof
                     value="org.eventb.theory.core.IDatatypeDefinition">
               </instanceof>
               <instanceof
                     value="fr.systerel.explorer.IElementNode">
               </instanceof>
            </or>
         </possibleChildren>
         <commonSorter
				class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">         
		</commonSorter>
      </navigatorContent>
      <navigatorContent
            contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$DatatypeConstructorContentProvider"
            id="org.eventb.theory.ui.explorer.datatypeConstructor"
            labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
            name="%navigatorContent.datatypeConstructor"
            priority="normal">
         <triggerPoints>
            <instanceof
                  value="org.eventb.theory.core.IDatatypeDefinition">
            </instanceof>
         </triggerPoints>
         <possibleChildren>
            <instanceof
                  value="org.eventb.theory.core.IDatatypeConstructor">
            </instanceof>
         </possibleChildren>
         <commonSorter
				class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">         
		</commonSorter>
      </navigatorContent>
       <navigatorContent
             contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$OperatorContentProvider"
             id="org.eventb.theory.ui.explorer.operator"
             labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
             name="%navigatorContent.operator"
             priority="high">
          <triggerPoints>
             <or>
                <instanceof
                      value="org.eventb.theory.core.ITheoryRoot">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or>
          </triggerPoints>
          <possibleChildren>
             <or>
                <instanceof
                      value="org.eventb.theory.core.INewOperatorDefinition">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or>
          </possibleChildren>
          <commonSorter
				class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">         
		</commonSorter>
       </navigatorContent>
       <navigatorContent
             appearsBefore="org.eventb.theory.ui.explorer.theorem"
             contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AxiomaticBlockContentProvider"
             id="org.eventb.theory.ui.explorer.axiomaticBlock"
             labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
             name="%navigatorContent.axiomaticBlock"
             priority="normal">
          <triggerPoints>
             <or>
                <instanceof
                      value="org.eventb.theory.core.ITheoryRoot">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or></triggerPoints>
          <possibleChildren>
             <or>
                <instanceof
                      value="org.eventb.theory.core.IAxiomaticDefinitionsBlock">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or></possibleChildren>
          <commonSorter
                class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">
          </commonSorter>
       </navigatorContent>
       <navigatorContent
             contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AxiomaticTypeContentProvider"
             id="org.eventb.theory.ui.explorer.axiomaticType"
             labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
             name="%navigatorContent.axiomaticType"
             priority="highest">
          <triggerPoints>
             <instanceof
                   value="org.eventb.theory.core.IAxiomaticDefinitionsBlock">
             </instanceof></triggerPoints>
          <possibleChildren>
             <instanceof
                   value="org.eventb.theory.core.IAxiomaticTypeDefinition">
             </instanceof></possibleChildren>
          <commonSorter
                class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">
          </commonSorter>
       </navigatorContent>
       <navigatorContent
             contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AxiomaticOperatorContentProvider"
             id="org.eventb.theory.ui.explorer.axiomaticOperator"
             labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
             name="%navigatorContent.axiomaticOperator"
             priority="higher">
          <triggerPoints>
             <instanceof
                   value="org.eventb.theory.core.IAxiomaticDefinitionsBlock">
             </instanceof></triggerPoints>
          <possibleChildren>
             <or>
                <instanceof
                      value="org.eventb.theory.core.IAxiomaticOperatorDefinition">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or></possibleChildren>
          <commonSorter
                class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">
          </commonSorter>
       </navigatorContent>
       <navigatorContent
             contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AxiomaticAxiomContentProvider"
             id="org.eventb.theory.ui.explorer.axiomaticAxiom"
             labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
             name="%navigatorContent.axiomaticAxiom"
             priority="high">
          <triggerPoints>
             <instanceof
                   value="org.eventb.theory.core.IAxiomaticDefinitionsBlock">
             </instanceof></triggerPoints>
          <possibleChildren>
             <or>
                <instanceof
                      value="org.eventb.theory.core.IAxiomaticDefinitionAxiom">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or></possibleChildren>
          <commonSorter
                class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">
          </commonSorter>
       </navigatorContent>
      <navigatorContent
             contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$TheoremContentProvider"
             id="org.eventb.theory.ui.explorer.theorem"
             labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
             name="%navigatorContent.theorem"
             priority="normal">
          <triggerPoints>
             <or>
                <instanceof
                      value="org.eventb.theory.core.ITheoryRoot">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or>
          </triggerPoints>
          <possibleChildren>
             <or>
                <instanceof
                      value="org.eventb.theory.core.ITheorem">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or>
          </possibleChildren>
          <commonSorter
				class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">         
		</commonSorter>
       </navigatorContent>
      <navigatorContent
             contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$RuleBlockContentProvider"
             id="org.eventb.theory.ui.explorer.rulesBlock"
             labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
             name="%navigatorContent.rulesBlock"
             priority="low">
          <triggerPoints>
             <or>
                <instanceof
                      value="org.eventb.theory.core.ITheoryRoot">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or>
          </triggerPoints>
          <possibleChildren>
             <or>
                <instanceof
                      value="org.eventb.theory.core.IProofRulesBlock">
                </instanceof>
                <instanceof
                      value="fr.systerel.explorer.IElementNode">
                </instanceof>
             </or>
          </possibleChildren>
          <commonSorter
				class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">         
		</commonSorter>
       </navigatorContent>
       <navigatorContent
             contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$RewriteRuleContentProvider"
             id="org.eventb.theory.ui.explorer.rewriteRule"
             labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
             name="%navigatorContent.rewriteRule"
             priority="high">
          <triggerPoints>
             <instanceof
                   value="org.eventb.theory.core.IProofRulesBlock">
             </instanceof>
          </triggerPoints>
          <possibleChildren>
             <instanceof
                   value="org.eventb.theory.core.IRewriteRule">
             </instanceof>
          </possibleChildren>
          <commonSorter
				class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">         
		</commonSorter>
       </navigatorContent>
       <navigatorContent
             contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$InferenceRuleContentProvider"
             id="org.eventb.theory.ui.explorer.inferenceRule"
             labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
             name="%navigatorContent.inferenceRule"
             priority="low">
          <triggerPoints>
             <instanceof
                   value="org.eventb.theory.core.IProofRulesBlock">
             </instanceof>
          </triggerPoints>
          <possibleChildren>
             <instanceof
                   value="org.eventb.theory.core.IInferenceRule">
             </instanceof>
          </possibleChildren>
          <commonSorter
				class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">         
		</commonSorter>
       </navigatorContent>
      <navigatorContent
            contentProvider="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$POContentProvider"
            id="org.eventb.theory.ui.explorer.poFile"
            labelProvider="org.eventb.theory.ui.explorer.RodinLabelProvider"
            name="%navigatorContent.poFiles"
            priority="lowest">
         <triggerPoints>
            <or>
               <instanceof
                     value="org.eventb.theory.core.IRewriteRule">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IInferenceRule">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.INewOperatorDefinition">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.ITheorem">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.ITheoryRoot">
               </instanceof>
               <instanceof
                     value="fr.systerel.explorer.IElementNode">
               </instanceof>
            </or>
         </triggerPoints>
         <possibleChildren>
            <instanceof
                  value="org.eventb.core.IPSStatus">
            </instanceof>
            <instanceof
                  value="fr.systerel.explorer.IElementNode">
            </instanceof>
         </possibleChildren>
         <commonSorter
				class="org.eventb.theory.ui.explorer.TheoryChildrenContentProviders$AntiSorter">         
		</commonSorter>
      </navigatorContent>
      <actionProvider
            class="org.eventb.theory.ui.explorer.TheoryRootActionProvider"
            id="org.eventb.theory.ui.explorer.theoryActionProvider">
         <enablement>
            <instanceof
                  value="org.eventb.theory.core.ITheoryRoot">
            </instanceof>
         </enablement>
      </actionProvider>
      <actionProvider
            class="org.eventb.theory.ui.explorer.ElementActionProvider"
            id="org.eventb.theory.ui.explorer.elementActionProvider">
         <enablement>
            <or>
               <instanceof
                     value="org.eventb.theory.core.ITypeParameter">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IDatatypeDefinition">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.INewOperatorDefinition">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IAxiomaticDefinitionsBlock">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IAxiomaticTypeDefinition">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IProofRulesBlock">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.ITheorem">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IDatatypeConstructor">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IRewriteRule">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IInferenceRule">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IAxiomaticDefinitionAxiom">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.IAxiomaticOperatorDefinition">
               </instanceof>
            </or>
            
         </enablement>
      </actionProvider>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.viewer">
      <viewerContentBinding
            viewerId="fr.systerel.explorer.navigator.view">
         <includes>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.theory">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.typeParameter">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.datatype">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.operator">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.axiomaticBlock">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.rulesBlock">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.theorem">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.poFile">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.datatypeConstructor">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.rewriteRule">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.inferenceRule">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.axiomaticType">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.axiomaticAxiom">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.ui.explorer.axiomaticOperator">
            </contentExtension>
         </includes>
      </viewerContentBinding>
      <viewerActionBinding
            viewerId="fr.systerel.explorer.navigator.view">
         <includes>
            <actionExtension
                  pattern="org.eventb.theory.ui.explorer.theoryActionProvider">
            </actionExtension>
            <actionExtension
                  pattern="org.eventb.theory.ui.explorer.elementActionProvider">
            </actionExtension>
         </includes>
      </viewerActionBinding>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
          <handler
            class="org.eventb.theory.ui.editor.handlers.InsertHandler"
            commandId="org.eventb.ui.edit.insert">
         <activeWhen>
            <and>
               <with
                     variable="activeEditorId">
                  <equals
                        value="org.eventb.theory.ui.theoryEditor">
                  </equals>
               </with>
               <with
                     variable="activeFocusControlId">
                   <or>
                     <equals
                           value="org.eventb.ui.controls.text">
                     </equals>
                     <equals
                           value="org.eventb.ui.controls.styledText">
                     </equals>
                  </or>
               </with>
            </and>
          </activeWhen>
      </handler>
      <handler
            class="org.eventb.theory.ui.editor.handlers.CopyHandler"
            commandId="org.eclipse.ui.edit.copy">
         <activeWhen>
         	<and>
             	<with
                     variable="activeEditorId">
                  <equals
                        value="org.eventb.theory.ui.theoryEditor">
                  </equals>
               </with>
              <not>
                 <with
                       variable="activeContexts">
                    <iterate
                          operator="or">
                       <equals
                             value="org.eventb.ui.contexts.textEditCompositeScope">
                       </equals>
                    </iterate>
                 </with>
              </not>
            </and>
         </activeWhen>
      </handler>
      <handler
            class="org.eventb.theory.ui.editor.handlers.PasteHandler"
            commandId="org.eclipse.ui.edit.paste">
         <activeWhen>
         	<and>
             	<with
                     variable="activeEditorId">
                  <equals
                        value="org.eventb.theory.ui.theoryEditor">
                  </equals>
               </with>
              <not>
                 <with
                       variable="activeContexts">
                    <iterate
                          operator="or">
                       <equals
                             value="org.eventb.ui.contexts.textEditCompositeScope">
                       </equals>
                    </iterate>
                 </with>
              </not>
            </and>
         </activeWhen>
      </handler>
      <handler
            class="org.eventb.theory.internal.ui.handlers.NewTheoryPathHandler"
            commandId="org.eventb.theory.ui.newTheoryPath">
      </handler>
      <handler
            class="org.eventb.theory.internal.ui.handlers.NewTheoryHandler"
            commandId="org.eventb.theory.ui.newTheory">
      </handler>
      <handler
            class="org.eventb.theory.internal.ui.handlers.RenameHandler"
            commandId="org.eventb.theory.ui.rename">
      </handler>
   </extension>
      <extension
         point="org.eclipse.ui.views.properties.tabbed.propertyContributor">
      <propertyContributor
            contributorId="org.eventb.theory.ui.theoryEditor">
         <propertyCategory
               category="eventB">
         </propertyCategory>
      </propertyContributor>
   </extension>
   <extension
         point="org.eclipse.ui.decorators">
      <decorator
            class="org.eventb.theory.ui.explorer.POStatusDec"
            id="org.eventb.theory.ui.poStatus"
            label="%decorator.poStatus.label"
            lightweight="true"
            location="BOTTOM_RIGHT"
            state="true">
         <enablement>
            <or>
               <objectClass
                     name="org.rodinp.core.IRodinElement">
               </objectClass>
               <objectClass
                     name="fr.systerel.explorer.IElementNode">
               </objectClass>
            </or>
         </enablement>
      </decorator>
    </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="org.eventb.theory.language.ui.editor.TheoryLanguageEditor"
            contributorClass="org.eventb.theory.language.ui.editor.TheoryLanguageEditorContributor"
            default="true"
            extensions="tul"
            icon="icons/thyPath.gif"
            id="org.eventb.theory.ui.theoryLanguageEditor"
            name="Event-B Theory Path Editor">
         <contentTypeBinding
               contentTypeId="org.eventb.theory.core.theoryLanguageFile">
         </contentTypeBinding>
      </editor>
   </extension>
   <extension
         point="org.eventb.ui.editorItems">
      <attributeRelation
            elementTypeId="org.eventb.theory.core.theoryLanguageRoot">
         <attributeReference
               descriptionId="org.eventb.ui.comment">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.availableTheoryProject">
         <attributeReference
               column="0"
               descriptionId="org.eventb.theory.ui.theoryProject">
         </attributeReference>
      </attributeRelation>
      <attributeRelation
            elementTypeId="org.eventb.theory.core.availableTheory">
         <attributeReference
               column="0"
               descriptionId="org.eventb.theory.ui.availableTheory">
         </attributeReference>
      </attributeRelation>
      <choiceAttribute
            class="org.eventb.theory.language.internal.ui.attr.ProjectTheoryAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.theoryProject"
            typeId="org.eventb.theory.core.availableTheoryProject">
      </choiceAttribute>
      <choiceAttribute
            class="org.eventb.theory.language.internal.ui.attr.AvailableTheoryAttributeManipulation"
            expandsHorizontally="false"
            id="org.eventb.theory.ui.availableTheory"
            typeId="org.eventb.theory.core.availableTheory">
      </choiceAttribute>
      <element
            childrenSuffix="END"
            imagePath="icons/thyPath.gif"
            prefix="THEORYPATH"
            prettyPrinter="org.eventb.theory.language.ui.editor.html.RootPrettyPrinter"
            typeId="org.eventb.theory.core.theoryLanguageRoot">
      </element>
      <element
            imagePath="icons/block.gif"
            prefix="THEORY PROJECTS"
            prettyPrinter="org.eventb.theory.language.ui.editor.html.AvailableProjectPrettyPrinter"
            typeId="org.eventb.theory.core.availableTheoryProject">
      </element>
      <element
            imagePath="icons/thyDep.gif"
            prefix="THEORIES"
            prettyPrinter="org.eventb.theory.language.ui.editor.html.AvailableTheoryPrettyPrinter"
            typeId="org.eventb.theory.core.availableTheory">
      </element>
      <childRelation
            parentTypeId="org.eventb.theory.core.theoryLanguageRoot">
         <childType
               typeId="org.eventb.theory.core.availableTheoryProject">
         </childType>
      </childRelation>
      <childRelation
            parentTypeId="org.eventb.theory.core.availableTheoryProject">
         <childType
               typeId="org.eventb.theory.core.availableTheory">
         </childType>
      </childRelation>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            contentProvider="org.eventb.theory.language.ui.explorer.TheoryPathContentProvider"
            id="org.eventb.theory.language.ui.explorer.theoryLanguage"
            labelProvider="org.eventb.theory.language.ui.explorer.RodinLabelProvider"
            name="Theory Path"
            priority="highest">
         <triggerPoints>
            <or>
               <instanceof
                     value="org.eclipse.core.resources.IProject">
               </instanceof>
               <instanceof
                     value="org.eventb.theory.core.ITheoryPathRoot">
               </instanceof>
            </or>
         </triggerPoints>
         <possibleChildren>
            <instanceof
                  value="org.eventb.theory.core.ITheoryPathRoot">
            </instanceof>
         </possibleChildren>
         <commonSorter
               class="org.eventb.theory.language.ui.explorer.TheoryPathChildrenContentProviders$AntiSorter">
         </commonSorter>
      </navigatorContent>
      <navigatorContent
            contentProvider="org.eventb.theory.language.ui.explorer.TheoryPathChildrenContentProviders$AvailableTheoryProjectContentProvider"
            id="org.eventb.theory.language.ui.explorer.availableTheoryProject"
            labelProvider="org.eventb.theory.language.ui.explorer.RodinLabelProvider"
            name="Available Theory Project"
            priority="normal">
         <triggerPoints>
            <or>
               <instanceof
                     value="org.eventb.theory.core.ITheoryPathRoot">
               </instanceof>
               <instanceof
                     value="fr.systerel.explorer.IElementNode">
               </instanceof>
            </or>
         </triggerPoints>
         <possibleChildren>
            <or>
               <instanceof
                     value="org.eventb.theory.core.IAvailableTheoryProject">
               </instanceof>
               <instanceof
                     value="fr.systerel.explorer.IElementNode">
               </instanceof>
            </or>
         </possibleChildren>
      </navigatorContent>
      <navigatorContent
            contentProvider="org.eventb.theory.language.ui.explorer.TheoryPathChildrenContentProviders$AvailableTheoryContentProvider"
            id="org.eventb.theory.language.ui.explorer.availableTheory"
            labelProvider="org.eventb.theory.language.ui.explorer.RodinLabelProvider"
            name="Available Theory"
            priority="normal">
         <triggerPoints>
            <or>
               <instanceof
                     value="org.eventb.theory.core.IAvailableTheoryProject">
               </instanceof>
               <instanceof
                     value="fr.systerel.explorer.IElementNode">
               </instanceof>
            </or>
         </triggerPoints>
         <possibleChildren>
            <or>
               <instanceof
                     value="org.eventb.theory.core.IAvailableTheory">
               </instanceof>
               <instanceof
                     value="fr.systerel.explorer.IElementNode">
               </instanceof>
            </or>
         </possibleChildren>
      </navigatorContent>
      <actionProvider
            class="org.eventb.theory.language.ui.explorer.TheoryPathRootActionProvider"
            id="org.eventb.theory.language.ui.explorer.theoryPathActionProvider">
         <enablement>
            <instanceof
                  value="org.eventb.theory.core.ITheoryPathRoot">
            </instanceof>
         </enablement>
      </actionProvider>
      <actionProvider
            class="org.eventb.theory.language.ui.explorer.ElementActionProvider"
            id="org.eventb.theory.language.ui.explorer.elementActionProvider">
         <enablement>
            <or>
               <instanceof
                     value="org.eventb.theory.core.IAvailableTheoryProject">
               </instanceof>
            </or>
         </enablement>
      </actionProvider>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <wizard
            category="org.eventb.ui.wizards"
            class="org.eventb.theory.language.ui.wizard.NewTheoryPathWizard"
            finalPerspective="org.eventb.ui.perspective.eventb"
            icon="icons/thyPath.gif"
            id="org.eventb.theory.ui.newTheoryPathWizard"
            name="Event-B TheoryPath Wizard"
            preferredPerspectives="org.eventb.ui.perspective.eventb"
            project="false">
         <description>
            The TheoryPath File allows to add/remove or just view the available theories for a particular project. Only one theoryPath file per project is allowed.
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.viewer">
      <viewerContentBinding
            viewerId="fr.systerel.explorer.navigator.view">
         <includes>
            <contentExtension
                  pattern="org.eventb.theory.language.ui.explorer.theoryLanguage">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.language.ui.explorer.availableTheoryProject">
            </contentExtension>
            <contentExtension
                  pattern="org.eventb.theory.language.ui.explorer.availableTheory">
            </contentExtension>
         </includes>
      </viewerContentBinding>
      <viewerActionBinding
            viewerId="fr.systerel.explorer.navigator.view">
         <includes>
            <actionExtension
                  pattern="org.eventb.theory.language.ui.explorer.theoryPathActionProvider">
            </actionExtension>
            <actionExtension
                  pattern="org.eventb.theory.language.ui.explorer.elementActionProvider">
            </actionExtension>
         </includes>
      </viewerActionBinding>
   </extension>
   <extension
        point="org.eclipse.core.expressions.definitions">
     <definition
           id="org.eventb.theory.ui.definition.isITheoryRoot">
       <and>
          <count
                value="1">
          </count>
          <iterate
                operator="or">
             <instanceof
                   value="org.eventb.theory.core.ITheoryRoot">
             </instanceof>
          </iterate>
       </and>
     </definition>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="org.eventb.theory.ui.newTheoryPath"
            name="New TheoryPath"
            description="Create a new TheoryPath">
      </command>
      <command
            id="org.eventb.theory.ui.newTheory"
            name="New Theory"
            description="Create a new theory">
      </command>
      <command
            id="org.eventb.theory.ui.rename"
            name="Rename theory"
            description="Rename this theory">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="toolbar:fr.systerel.explorer.navigator.view">
         <command
               commandId="org.eventb.theory.ui.newTheoryPath"
               icon="icons/thyPath.gif"
               mnemonic="P"
               tooltip="Create TheoryPath file">
         </command>
         <command
               commandId="org.eventb.theory.ui.newTheory"
               icon="icons/thyNew.gif"
               mnemonic="T"
               tooltip="Create new theory">
         </command>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=group.edit">
         <command
               commandId="org.eventb.theory.ui.rename"
               mnemonic="R"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <reference
                     definitionId="org.eventb.theory.ui.definition.isITheoryRoot">
               </reference>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
</plugin>
